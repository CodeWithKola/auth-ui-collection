<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AuroVista - Forgot Password</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-light">
    <div
      class="container-fluid min-vh-100 d-flex align-items-center justify-content-center py-5"
    >
      <div class="card shadow-sm" style="max-width: 440px">
        <div class="card-body p-4">
          <div class="text-success mb-4 d-flex align-items-center">
            <i class="bi bi-brightness-alt-high-fill fs-4 me-2"></i>
            <h1 class="display-6 fw-bold m-0">AuroVista</h1>
          </div>

          <div class="text-center mb-4">
            <div
              class="d-inline-block p-3 bg-success bg-opacity-10 rounded-circle mb-3"
            >
              <i class="bi bi-shield-lock fs-1 text-success"></i>
            </div>
            <h2 class="h3 mb-3">Forgot password?</h2>
            <p class="text-muted mb-0">
              No worries! Enter your email address and we'll send you
              instructions to reset your password.
            </p>
          </div>

          <form id="forgotPasswordForm" novalidate>
            <div class="mb-4">
              <label for="email" class="form-label">Email address</label>
              <div class="input-group">
                <span class="input-group-text bg-light">
                  <i class="bi bi-envelope"></i>
                </span>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="Your email"
                  required
                  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                />
                <div class="invalid-feedback">
                  Please enter a valid email address
                </div>
              </div>
              <div id="emailHelp" class="form-text mt-2">
                We'll send a password reset link to this email address
              </div>
            </div>

            <button
              type="submit"
              class="btn btn-success w-100 mb-3"
              id="submitBtn"
            >
              <span id="buttonText">Send Reset Instructions</span>
              <span
                id="spinnerIcon"
                class="spinner-border spinner-border-sm ms-2 d-none"
                role="status"
              >
                <span class="visually-hidden">Loading...</span>
              </span>
            </button>
          </form>

          <div class="text-center mb-4">
            <p class="small text-muted mb-0">
              Remember your password?
              <a href="index.html" class="text-success text-decoration-none"
                >Sign in</a
              >
            </p>
          </div>

          <hr class="my-4" />

          <div class="text-center">
            <p class="small text-muted mb-2">Need help?</p>
            <div class="d-flex justify-content-center gap-3">
              <a href="#" class="text-success text-decoration-none small">
                <i class="bi bi-question-circle me-1"></i>
                Support
              </a>
              <a href="#" class="text-success text-decoration-none small">
                <i class="bi bi-envelope me-1"></i>
                Contact us
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("forgotPasswordForm");
        const emailInput = document.getElementById("email");
        const submitBtn = document.getElementById("submitBtn");
        const buttonText = document.getElementById("buttonText");
        const spinnerIcon = document.getElementById("spinnerIcon");

        // Email validation
        function isEmailValid(email) {
          const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
          return emailPattern.test(email);
        }

        emailInput.addEventListener("input", function () {
          const isValid = isEmailValid(this.value);
          this.classList.toggle("is-invalid", !isValid && this.value !== "");
          submitBtn.disabled = !isValid;
        });

        // Form submission
        form.addEventListener("submit", function (e) {
          e.preventDefault();

          if (!isEmailValid(emailInput.value)) {
            emailInput.classList.add("is-invalid");
            return;
          }

          // Show loading state
          submitBtn.disabled = true;
          buttonText.textContent = "Sending Instructions...";
          spinnerIcon.classList.remove("d-none");

          setTimeout(() => {
            window.location.href = "reset-success.html";
          }, 1500);
        });
      });
    </script>
  </body>
</html>
